"use strict";
/*!
 * fullpage.js Drag And Move Extension 0.1.6
 * for fullpage.js v4
 * https://github.com/alvarotrigo/fullPage.js
 *
 * @license This code has been bought from www.alvarotrigo.com/fullPage/extensions/ and it is not free to use or distribute.
 * Copyright (C) 2016 alvarotrigo.com - A project by Alvaro Trigo
 */
/* eslint-disable */window.fp_dragAndMoveExtension=function(){var h=this,p=window.fp_utils,i=window.fullpage_api,A=p.$,n=i.getFullpageData(),S=n.options,M=n.internals,r=".fullpage-wrapper",e=".active",b=".fp-section",E=b+e,y=".fp-slide"+e,a=".fp-slides",L=".fp-slidesContainer",T=".fp-overflow";h.isGrabbing=!1,h.isAnimating=!1;var l,x,D,s,o,t,C,F,G,q,H,B,u,k,d,c=0,z=null,N=null,v=0,m=0,f=.01,w=.85,O=0,P=0,R=0,I=0,W=0,_=0,Y=h.isMouseDown=!1,V=0,g=!1,X=!1,$=!1,j=!1,J=p.css,K=p.trigger,Q=p.prev,U=p.next,Z=p.closest,nn=M.getMSPointer();function en(){h.isAnimating?(function(){var n,e;Y?(n=M.getDestinationPosition(N),e=O):null!=N&&(n=N.offsetLeft,e=P),tn((null!=N?-1*n-e:0)*f),l=Y?O<R?"up":R<O?"down":"none":P<I?"left":I<P?"right":"none",h.isGrabbing&&tn(Y?R-O-v:I-P-m);var o,t,i=Y?O:P;!h.isGrabbing&&i<0&&M.scrollHandler(),Y?(O+=v*=w,K(C,"onScroll")):P+=m*=w,h.isGrabbing||h.isMouseDown||(o=i,t=Y?O:P,Math.round(100*t)==Math.round(100*o)&&c++,2<c&&(h.isAnimating=!1))}(),function(){var n=Y?C:x?A(L,x)[0]:A(L,A(E)[0])[0];if(null!=n)if(S.css3&&(!Y||Y&&S.autoScrolling&&!S.scrollBar)){var e=Y?"translate3d(0px, "+Math.round(O)+"px, 0px)":"translate3d("+Math.round(P)+"px, 0px, 0px)";J(n,M.getTransforms(e))}else S.autoScrolling&&!S.scrollBar&&Y?J(n,{top:Math.round(O)+"px"}):Y?window.scrollTo(0,Math.round(-O)):Z(n,a).scrollLeft=-1*Math.round(P)}()):j&&function(n){if(F&&h.isGrabbing){var e=H-D;G.scrollTop=q+Math.round(e)}}(),o=window.requestAnimFrame(en)}function on(n){var e=n.detail,o=e.value;void 0!==e.directions||(o?h.init():h.destroy())}function tn(n){Y?v+=n:m+=n}function rn(n){if(window.removeEventListener("mousemove",un),window.removeEventListener("mouseup",rn),g)g=!1;else{var e=Y?p.getWindowHeight():window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth;if((V<30||V<e/2&&!(l===z))&&(N=Y?A(E)[0]:A(y,A(E)[0])[0]),!Y&&N&&h.isGrabbing&&h.isAnimating){var o=A(a,x)[0];null!=o&&M.landscapeScroll(o,N,z)}if(K(C,"onGrab",!1),h.isGrabbing=!1,h.isMouseDown=!1,!s)if(Y){var t={up:null!=Q(A(E)[0])?U(N):A(E)[0],down:null!=U(A(E)[0])?Q(N):A(E)[0]};if(t[z]){var i=A(y,t[z])[0];"none"!==z&&null!=i&&M.silentLandscapeScroll(i,"internal")}else i=A(E)[0]?A(y,A(E)[0])[0]:null,"none"!==z&&null!=i&&M.silentLandscapeScroll(i,"internal")}else M.silentScroll(M.getDestinationPosition(A(E)[0]));j&&(dn(),u=requestAnimationFrame(cn))}}function an(n){if(c=0,h.isMouseDown=!i.shared.isNormalScrollElement,(new Date).getTime(),M.isReallyTouch(n)){var e=M.getEventsPage(n);H=e.y,B=e.x,W=h.getCurrentScroll(),_=h.getCurrentScrollSlides(n),["touchmove",nn.move].forEach(function(n){window.addEventListener(n,un,{passive:!1})}),window.addEventListener("touchend",rn)}}function ln(n){x=null;var e=Z(n.target,b)||A(E)[0],o=e?A(y,e)[0]:null,t=o||e;q=t&&t.querySelector(T)?t.querySelector(T).scrollTop:0,C=C||A(r)[0],q&&dn(),n.target===A("html")[0]||3==n.which?(g=!0,S.fitToSection=!0):(s=c,c=0,h.isMouseDown=!i.shared.isNormalScrollElement,(new Date).getTime(),H=sn(n,"y"),B=sn(n,"x"),W=h.getCurrentScroll(),_=h.getCurrentScrollSlides(n),un(n)),window.addEventListener("mousemove",un),window.addEventListener("mouseup",rn)}function sn(n,e){var o="x"===e;if(M.isTouch&&M.isReallyTouch(n)){var t=M.getEventsPage(n);return o?t.x:t.y}return o?n.pageX:S.scrollBar||!S.autoScrolling?n.screenY:n.pageY}function un(n){var e,o;o=sn(n,"x");var t,i,r,a,l,s=(e=sn(n,"y"))-H,u=o-B;if(!(Math.abs(s)<5&&Math.abs(u)<5||Math.abs(s)<5&&Math.abs(s)>Math.abs(u)||Math.abs(u)<5&&Math.abs(u)>Math.abs(s))){if(h.isMouseDown){if(!h.isGrabbing){Y=Math.abs(s)>Math.abs(u),M.removeAnimation(C);var d=A(L,x)[0];null!=d&&M.removeAnimation(d)}K(C,"onGrab",!0),h.isGrabbing=!0}var c=Z(n.target,b)||A(E)[0],v=c?A(y,c)[0]:null,m=A(E)[0],f={up:Q(m),down:U(m),left:v?Q(v):null,right:v?U(v):null,none:m};if(h.isGrabbing){O=h.getCurrentScroll(),P=h.getCurrentScrollSlides(n),i=o,r=D=e,a=Y?H:B,l=Y?r:i,V=Math.abs(a-l),N=null!=(t=N=f[z=l<a?Y?"down":"right":a<l?Y?"up":"left":"none"])?t:Y?A(E)[0]:A(y,x)[0],h.isAnimating="vertical"!==S.dragAndMove&&"horizontal"!==S.dragAndMove||"vertical"===S.dragAndMove&&Y||"horizontal"===S.dragAndMove&&!Y,h.isAnimating=h.isAnimating&&M.isScrollAllowed.m[z],G=(F=v||c).querySelector(T),X=p.scrollOverflowHandler.isScrolled(z,v||c);var w=M.isTouch&&M.isReallyTouch(n);if($=!X,j=!w&&!X,h.isAnimating=Y?h.isAnimating&&!$:h.isAnimating,j){var g=G.scrollTop;k=q+Math.round(H-D)-g}}R=W+s,I=_+u,h.isAnimating&&p.preventDefault(n)}}function dn(){cancelAnimationFrame(u)}function cn(){G.scrollTop+=k,k*=.95,.8<Math.abs(k)?u=requestAnimationFrame(cn):dn()}function vn(n){var e=n?"addEventListener":"removeEventListener";["touchstart",nn.down].forEach(function(n){C[e](n,M.touchStartHandler)}),["touchmove",nn.move].forEach(function(n){C[e](n,M.touchMoveHandler)})}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){o=window.setTimeout(n,1e3/60)},window.cancelAnimFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(n){window.clearTimeout(n)},h.init=function(n){return t=t||p.deepExtend({},S).dragAndMove,S.dragAndMove=t,S.fitToSection=!1,["continuousHorizontal","continuousVertical"].forEach(function(n){S[n]&&(S[n]=!1,p.showError("error","The option `"+n+"` is not compatible with `dragAndDrop`; `"+n+"` desactivated."))}),S.scrollOverflow&&p.showError("warn","The option `scrollOverflow` is not fully compatible with `dragAndDrop`; Scrolling sections/slides will not work when dragging"),"fingersonly"!==S.dragAndMove&&window.addEventListener("mousedown",ln),M.container.addEventListener("setAllowScrolling",on),M.container.addEventListener("destroy",h.destroy),en(),h.turnOffTouch(),h},h.turnOffTouch=function(){C=C||A(r)[0],"mouseonly"!==S.dragAndMove&&null!=C&&(vn(!1),"mouseonly"!==S.dragAndMove&&["touchstart",nn.down].forEach(function(n){C.addEventListener(n,an)}))},h.getCurrentScroll=function(){if(!S.css3||!S.autoScrolling||S.scrollBar)return S.autoScrolling&&!S.scrollBar?parseInt(getComputedStyle(C).top):-p.getScrollTop(S);var n=getComputedStyle(C).transform;return void 0!==(n=void 0===n?getComputedStyle(C)["-webkit-transform"]:n)?parseInt(n.split(",")[5]):void 0},h.getCurrentScrollSlides=function(n){var e=Z(n.target,b);null==(x=null!=e?e:x)&&(x=A(E)[0]);var o=A(a,x)[0];if(null!=o){var t=A(L,o)[0];if(!S.css3)return-o.scrollLeft;var i=getComputedStyle(t).transform;if(void 0!==(i=void 0===i?A(r).css("-webkit-transform"):i))return"none"===i?0:parseInt(i.split(",")[4])}return 0},h.afterSlideLoads=function(n){M.activeSlidesNavigation(n.slidesNav,n.slideIndex)},h.getDocumentHeight=function(){var o=0,n=A(b),t=n.length;return n.forEach(function(n,e){e!==t&&(o+=n.offsetHeight)}),o},h.destroy=function(){["touchstart",nn.down].forEach(function(n){C.removeEventListener(n,an)}),["touchmove",nn.move].forEach(function(n){C.removeEventListener(n,un,{passive:!1})}),C.removeEventListener("touchend",rn),window.removeEventListener("mousedown",ln),window.removeEventListener("mousemove",un),window.removeEventListener("mouseup",rn),window.cancelAnimFrame(o),o=void 0,vn(!(S.dragAndMove=!1))},h.isScrollingDown_=function(){return!Y&&d?d:d="down"===z},h.c=M.c;var mn=h["common".charAt(0)];return"complete"===document.readyState&&mn("dragAndMove"),window.addEventListener("load",function(){mn("dragAndMove")}),h};